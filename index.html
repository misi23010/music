<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ì˜í™”ì™€ ìŒì•… ê¸°ë§ê³ ì‚¬</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    input,
    textarea {
      font-size: 16px;
      /* ê¸°ë³¸ í°íŠ¸ í¬ê¸°ë¥¼ 16pxë¡œ ì„¤ì • */
    }

    html,
    body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f0f4f8;
      color: #333;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .container {
      max-width: 800px;
      width: 90%;
      background-color: white;
      padding: 20px;
      margin: 20px auto;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
      box-sizing: border-box;
      margin-bottom: 20px;
    }

    h1 {
      background-color: #007bff;
      color: white;
      padding: 20px;
      margin: 0;
      width: 100%;
      text-align: center;
      box-sizing: border-box;
    }

    .progress_ {
      margin-bottom: 20px;
      font-size: 16px;
    }

    .question {
      text-align: center;
    }

    audio {
      width: calc(100% - 50px);
      min-width: 100px;
      margin-top: 15px;
    }

    label {
      font-weight: bold;
    }

    input[type="text"] {
      width: calc(100% - 20px);
      padding: 10px;
      margin-top: 5px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }

    .result {
      margin-bottom: 20px;
      font-size: 18px;
    }

    .result.correct {
      color: green;
    }

    .result.incorrect {
      color: red;
    }

    .next-btn {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 15px;
    }

    .next-btn:hover {
      background-color: #218838;
    }

    .answer-section {
      max-width: 500px;
      /* ì„¹ì…˜ ë„ˆë¹„ ì¡°ì • */
      margin: 0 auto;
      /* ì¤‘ì•™ ì •ë ¬ */
      text-align: center;
      /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
      padding: 20px;
    }

    .audio-section {
      margin-bottom: 20px;
    }

    #audiodiv {
      display: flex;
    }

    #toggleAnswer {
      display: block;
      float: right;
      margin-top: -10px;
      margin-left: auto;
    }

    #answerReveal {
      margin-top: 10px;
      font-size: 14px;
      color: #555;
    }

    .next-btn {
      margin-top: 10px;
      display: block;
      background-color: #007bff;
      color: white;
      border: none;
      padding: 10px 15px;
      cursor: pointer;
      border-radius: 5px;
    }

    .next-btn:hover {
      background-color: #0056b3;
    }

    .result-section {
      width: 100%;
      text-align: center;
      /* ì¤‘ì•™ ì •ë ¬ ì¶”ê°€ */
    }

    #nextButton {
      margin: 0 auto;
      /* ì¤‘ì•™ ì •ë ¬ */
      display: block;
      /* ë¸”ë¡ ìš”ì†Œë¡œ ë§Œë“¤ì–´ì„œ ê°€ë¡œë¡œ ì¤‘ì•™ì— ë°°ì¹˜ */
    }

    #answerReveal {
      margin-top: 20px;
      text-align: center;
      font-size: 16px;
      color: #555;
    }

    #undercon {
      margin-top: 0px;
    }

    #underdiv {
      text-align: center;
      margin-top: 20px;
    }

    #underdiv span {
      display: inline-block;
      margin-bottom: 5px;
    }

    #toggleUnderdiv {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    #toggleUnderdiv:hover {
      background-color: #0056b3;
    }

    .custom-audio-player {
      background: #f1f3f4;
      border-radius: 24px;
      padding: 8px 25px;
      /* ì¢Œìš° íŒ¨ë”©ê°’ ì¦ê°€ */
      display: flex;
      align-items: center;
      width: calc(100% - 50px);
      /* ì „ì²´ ë„ˆë¹„ì—ì„œ íŒ¨ë”© ê°’ì„ ëºŒ */
      margin: 0 auto;
      /* ì¤‘ì•™ ì •ë ¬ */
    }

    .controls {
      display: flex;
      align-items: center;
      width: 100%;
      gap: 10px;
    }

    .play-pause {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: #f1f3f4;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      margin-right: 10px;
      transition: background-color 0.2s;
    }

    .play-pause:hover {
      background-color: #e0e0e0;
    }

    .play-pause .play,
    .play-pause .pause {
      font-size: 18px;
      color: #333;
    }

    /* ê¸°ë³¸ì ìœ¼ë¡œ pause ìˆ¨ê¸°ê¸° */
    .play-pause .pause {
      display: none;
    }

    /* ì¬ìƒ ì¤‘ì¼ ë•Œ */
    .play-pause.playing .play {
      display: none;
    }

    .play-pause.playing .pause {
      display: block;
    }

    .progress-bar {
      flex: 1;
      background: #dadce0;
      height: 4px;
      border-radius: 2px;
      position: relative;
      cursor: pointer;
    }

    .progress {
      background: #1a73e8;
      height: 100%;
      border-radius: 2px;
      width: 0;
    }

    .time {
      font-size: 12px;
      color: #5f6368;
      min-width: 100px;
    }

    #shuffleButton {
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px;
      color: #5f6368;
    }

    #shuffleButton:hover {
      color: #1a73e8;
    }

    .volume-control {
      margin-left: auto;
    }

    .volume {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0 5px;
      color: #5f6368;
    }
  </style>
</head>

<body>
  <h1>ì˜í™”ì™€ ìŒì•… ê¸°ë§ê³ ì‚¬</h1>

  <div class="container">

    <!-- ì§„í–‰ ìƒí™© ë° ë²„íŠ¼ -->
    <div class="controls_cur">
      <div class="progress_" id="progress_">
        ì§„í–‰ ìƒí™©:
        <span id="currentQuestion">1</span>/<span id="totalQuestions">32</span> |
        ì •ë‹µë¥ :
        <span id="accuracy">0%</span>
        <button id="toggleAnswer" onclick="toggleAnswer()">ì •ë‹µ ë³´ê¸°</button>

      </div>
    </div>

    <!-- ë¬¸ì œ ì˜¤ë””ì˜¤ -->
    <div class="audio-section">
      <div class="custom-audio-player">
        <audio id="audio">
          <source id="audioSource" src="" type="audio/mpeg">
        </audio>
        <div class="controls">
          <button class="play-pause">
            <span class="play">â–¶</span>
            <span class="pause">â¸</span>
          </button>
          <div class="time">
            <span class="current">0:00</span>
            <span class="duration">/ 0:00</span>
          </div>
          <div class="progress-bar">
            <div class="progress"></div>
          </div>
          <div class="volume-control">
            <button class="volume">ğŸ”Š</button>
          </div>
          <button id="shuffleButton" aria-label="ë¬¸ì œ ì„ê¸°">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm0.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z" />
            </svg>
          </button>
        </div>
      </div>
      <div id="answerReveal"></div>
    </div>

    <!-- ë‹µì•ˆ ì…ë ¥ -->
    <div class="answer-section">
      <form id="quizForm">
        <label for="movie">ì˜í™” ì œëª©</label><br>
        <input type="text" id="movie" name="movie"><br><br>

        <label for="composer">ì‘ê³¡ê°€</label><br>
        <input type="text" id="composer" name="composer"><br><br>

        <label for="music">ìŒì•… ì œëª©</label><br>
        <input type="text" id="music" name="music"><br><br>

        <button type="button" onclick="checkAnswer()">ì œì¶œ</button>
      </form>
    </div>

    <!-- ê²°ê³¼ ë° ë„˜ì–´ê°€ê¸° ë²„íŠ¼ -->
    <div class="result-section">
      <div class="result" id="result"></div>
      <button id="nextButton" class="next-btn" onclick="goToNextQuestion()">ë„˜ì–´ê°€ê¸°</button>
    </div>

  </div>
  <div class="container" id="undercon">
    <button id="toggleUnderdiv">ì •ë‹µ ëª©ë¡ ë³´ê¸°/ìˆ¨ê¸°ê¸°</button>
    <div id="underdiv" style="display: none;"></div>
  </div>
  <script>
    // í€´ì¦ˆ ë°ì´í„°ë² ì´ìŠ¤
    const quizData = [
      { movie: "2001 ìŠ¤í˜ì´ìŠ¤ ì˜¤ë””ì„¸ì´", composer: "R.ìŠˆíŠ¸ë¼ìš°ìŠ¤", music: "ì§œë¼íˆ¬ìŠ¤ë¼ëŠ” ì´ë ‡ê²Œ ë§í–ˆë‹¤", audio: "media/1. 2001ï¼šìŠ¤í˜ì´ìŠ¤ ì˜¤ë””ì„¸ì´ (R. ìŠˆíŠ¸ë¼ìš°ìŠ¤ï¼šì§œë¼íˆ¬ìŠ¤íŠ¸ë¼ëŠ” ì´ë ‡ê²Œ ë§í–ˆë‹¤).mp3" },
      { movie: "ì¸ìƒì€ ì•„ë¦„ë‹¤ì›Œ", composer: "ì˜¤íœë°”í", music: "í˜¸í”„ë§Œì˜ ì´ì•¼ê¸° ì¤‘ ë±ƒë…¸ë˜", audio: "media/2. ì¸ìƒì€ ì•„ë¦„ë‹¤ì›Œ (ì˜¤íœë°”í 'í˜¸í”„ë§Œì˜ ì´ì•¼ê¸°' ì¤‘ ë±ƒë…¸ë˜).mp3" },
      { movie: "ë¶ˆë©¸ì˜ ì—°ì¸", composer: "ë² í† ë²¤", music: "êµí–¥ê³¡ 9ë²ˆ í•©ì°½", audio: "media/3. ë¶ˆë©¸ì˜ ì—°ì¸ (ë² í† ë²¤ êµí–¥ê³¡ 9ë²ˆ í•©ì°½).mp3" },
      { movie: "ë§ˆì´ë„ˆë¦¬í‹° ë¦¬í¬íŠ¸", composer: "ìŠˆë² ë¥´íŠ¸", music: "êµí–¥ê³¡ 8ë²ˆ ë¯¸ì™„ì„±", audio: "media/4. ë§ˆì´ë„ˆë¦¬í‹° ë¦¬í¬íŠ¸ (ìŠˆë² ë¥´íŠ¸ï¼šêµí–¥ê³¡ 8ë²ˆ 'ë¯¸ì™„ì„±' ).mp3" },
      { movie: "ì‹œë„¤ë§ˆì²œêµ­", composer: "ì—”ë‹ˆì˜¤ëª¨ë¦¬ê¼¬ë„¤", music: "ëŸ¬ë¸Œí…Œë§ˆ", audio: "media/5. ì‹œë„¤ë§ˆ ì²œêµ­ (ì—”ë‹ˆì˜¤ ëª¨ë¦¬ê¼¬ë„¤ ì‹œë„¤ë§ˆ ì²œêµ­ ì¤‘ ëŸ¬ë¸Œí…Œë§ˆ).mp3" },
      { movie: "í‚¹ìŠ¤ìŠ¤í”¼ì¹˜", composer: "ëª¨ì°¨ë¥´íŠ¸", music: "í”¼ê°€ë¡œì˜ ê²°í˜¼ ì„œê³¡", audio: "media/6. í‚¹ìŠ¤ìŠ¤í”¼ì¹˜ (ëª¨ì°¨ë¥´íŠ¸  í”¼ê°€ë¡œì˜ ê²°í˜¼ ì„œê³¡).mp3" },
      { movie: "ì‡¼ìƒí¬íƒˆì¶œ", composer: "ëª¨ì°¨ë¥´íŠ¸", music: "í”¼ê°€ë¡œì˜ ê²°í˜¼ ì¤‘ í¬ê·¼í•œ ì‚°ë“¤ë°”ëŒì´", audio: "media/7. ì‡¼ìƒí¬ íƒˆì¶œ (ëª¨ì°¨ë¥´íŠ¸ íœ˜ê°€ë¡œì˜ ê²°í˜¼ ì¤‘ í¬ê·¼í•œ ì‚°ë“¤ë°”ëŒì´).mp3" },
      { movie: "ì˜¤ì…˜ìŠ¤ ì¼ë ˆë¸", composer: "ë“œë·”ì‹œ", music: "ë‹¬ë¹›", audio: "media/8. ì˜¤ì…˜ìŠ¤ ì¼ë ˆë¸ (ë“œë·”ì‹œï¼šë‹¬ë¹›).mp3" },
      { movie: "í”¼ì•„ë‹ˆìŠ¤íŠ¸", composer: "ì‡¼íŒ½", music: "ë°œë¼ë“œ 1ë²ˆ", audio: "media/9. í”¼ì•„ë‹ˆìŠ¤íŠ¸ (ì‡¼íŒ½ ë°œë¼ë“œ 1ë²ˆ).mp3" },
      { movie: "í™©ì•¼ì˜ ë¬´ë²•ì", composer: "ì—”ë‹ˆì˜¤ëª¨ë¦¬ê¼¬ë„¤", music: "í™©ì•¼ì˜ ë¬´ë²•ì í…Œë§ˆ", audio: "media/10. í™©ì•¼ì˜ ë¬´ë²•ì (ì—”ë‹ˆì˜¤ ëª¨ë¦¬ê¼¬ë„¤ í™©ì•¼ì˜ ë¬´ë²•ì í…Œë§ˆ).mp3" },
      { movie: "í‚¹ìŠ¤ìŠ¤í”¼ì¹˜, ë¶ˆë©¸ì˜ ì—°ì¸", composer: "ë² í† ë²¤", music: "êµí–¥ê³¡ 7ë²ˆ", audio: "media/11. í‚¹ìŠ¤ìŠ¤í”¼ì¹˜, ë¶ˆë³„ì˜ ì—°ì¸ (ë² í† ë²¤ êµí–¥ê³¡ 7ë²ˆ ).mp3" },
      { movie: "ë¯¸ì…˜", composer: "ì—”ë‹ˆì˜¤ëª¨ë¦¬ê¼¬ë„¤", music: "ê°€ë¸Œë¦¬ì—˜ì˜ ì˜¤ë³´ì—", audio: "media/12. ë¯¸ì…˜ (ì—”ë‹ˆì˜¤ ëª¨ë¦¬ê¼¬ë„¤ ê°€ë¸Œë¦¬ì—˜ì˜ ì˜¤ë³´ì—).mp3" },
      { movie: "í‚¹ìŠ¤ìŠ¤í”¼ì¹˜, ë¶ˆë©¸ì˜ ì—°ì¸", composer: "ë² í† ë²¤", music: "í”¼ì•„ë…¸í˜‘ì£¼ê³¡ 5ë²ˆ í™©ì œ", audio: "media/13. í‚¹ìŠ¤ìŠ¤í”¼ì¹˜, ë¶ˆë©¸ì˜ ì—°ì¸(ë² í† ë²¤ - í”¼ì•„ë…¸ í˜‘ì£¼ê³¡ ì œ5ë²ˆ í™©ì œ).mp3" },
      { movie: "ë¶ˆë©¸ì˜ ì—°ì¸", composer: "ë² í† ë²¤", music: "êµí–¥ê³¡ 5ë²ˆ ìš´ëª…", audio: "media/14. ë¶ˆë©¸ì˜ ì—°ì¸ (ë² í† ë²¤ êµí–¥ê³¡ 5ë²ˆ ìš´ëª…).mp3" },
      { movie: "ë¶ˆë©¸ì˜ ì—°ì¸", composer: "ë² í† ë²¤", music: "êµí–¥ê³¡ 3ë²ˆ ì˜ì›…", audio: "media/15. ë¶ˆë©¸ì˜ ì—°ì¸ (ë² í† ë²¤ êµí–¥ê³¡ ì œ3ë²ˆ `ì˜ì›…` ).mp3" },
      { movie: "ìƒ¤ì¸", composer: "ë¦¬ìŠ¤íŠ¸", music: "ë¼ìº„íŒŒë„¬ë¼", audio: "media/16. ìƒ¤ì¸ (ë¦¬ìŠ¤íŠ¸ íŒŒê°€ë‹ˆë‹ˆ ì—°ìŠµê³¡ ì œ3ë²ˆ - ë¼ ìº„íŒŒë„¬ë¼).mp3" },
      { movie: "ìƒ¤ì¸", composer: "ë¦¼ìŠ¤í‚¤ì½”ë¥´ìƒ¤ì½”í”„", music: "ì™•ë²Œì˜ ë¹„í–‰", audio: "media/17. ìƒ¤ì¸ (ë¦¼ìŠ¤í‚¤ ì½”ë¥´ìƒ¤ì½”í”„ ì™•ë²Œì˜ ë¹„í–‰ ë¼íë§ˆë‹ˆë…¸í¸ê³¡).mp3" },
      { movie: "í‚¹ìŠ¤ìŠ¤í”¼ì¹˜", composer: "ëª¨ì°¨ë¥´íŠ¸", music: "í´ë¼ë¦¬ë„· í˜‘ì£¼ê³¡ Aì¥ì¡°", audio: "media/18. í‚¹ìŠ¤ìŠ¤í”¼ì¹˜ (ëª¨ì°¨ë¥´íŠ¸  í´ë¼ë¦¬ë„· í˜‘ì£¼ê³¡ Aì¥ì¡° ).mp3" },
      { movie: "íŒíƒ€ì§€ì•„", composer: "ë°”í", music: "í† ì¹´íƒ€ì™€ í‘¸ê°€", audio: "media/19. íŒíƒ€ì§€ì•„ (ë°”í í† ì¹´íƒ€ì™€ í‘¸ê°€).mp3" },
      { movie: "íŒŒë¦¬ë„¬ë¦¬", composer: "í—¨ë¸", music: "ìš¸ê²Œí•˜ì†Œì„œ", audio: "media/20, íŒŒë¦¬ë„¬ë¦¬ (í—¨ë¸ ìš¸ê²Œí•˜ì†Œì„œ).mp3" },
      { movie: "í”¼ì•„ë‹ˆìŠ¤íŠ¸", composer: "ì‡¼íŒ½", music: "ë…¹í„´ C# ë§ˆì´ë„ˆ", audio: "media/21. í”¼ì•„ë‹ˆìŠ¤íŠ¸ (ì‡¼íŒ½ ë…¹í„´ C%23 ë§ˆì´ë„ˆ).mp3" },
      { movie: "ET", composer: "ì¡´ìœŒë¦¬ì•”ìŠ¤", music: "ë©”ì¸ í…Œë§ˆ", audio: "media/22. E.T (ì¡´ ìœŒë¦¬ì•”ìŠ¤ï¼šë©”ì¸ í…Œë§ˆ).mp3" },
      { movie: "ë‚´ ì—¬ìì¹œêµ¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.", composer: "ì‚¬í‹°", music: "ì§ë…¸í˜ë”” 1ë²ˆ", audio: "media/23. ë‚´ ì—¬ìì¹œêµ¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤ (ì‚¬í‹°ï¼šì§ë…¸í˜ë”” 1ë²ˆ).mp3" },
      { movie: "ëŒ€ë¶€3", composer: "ë§ˆìŠ¤ì¹´ë‹ˆ", music: "ì¹´ë°œë ˆë¦¬ì•„ ë£¨ìŠ¤í‹°ì¹´ë‚˜ ê°„ì£¼ê³¡", audio: "media/24. ëŒ€ë¶€ 3 (ë§ˆìŠ¤ì¹´ë‹ˆï¼šì¹´ë°œë ˆë¦¬ì•„ ë£¨ìŠ¤í‹°ì¹´ë‚˜ ê°„ì£¼ê³¡).mp3" },
      { movie: "ë¡œë¯¸ì˜¤ì™€ ì¤„ë¦¬ì—£", composer: "ëª¨ì°¨ë¥´íŠ¸", music: "êµí–¥ê³¡ 25ë²ˆ", audio: "media/25. ë¡œë¯¸ì˜¤ì™€ ì¤„ë¦¬ì—£ (ëª¨ì°¨ë¥´íŠ¸ï¼šêµí–¥ê³¡ 25ë²ˆ ).mp3" },
      { movie: "ë©”ë¦¬ì—ê² ë­”ê°€ íŠ¹ë³„í•œ ê²ƒì´ ìˆë‹¤", composer: "ëª¨ì°¨ë¥´íŠ¸", music: "ì•„ì´ë„¤ í´ë¼ì´ë„¤ ë‚˜ííŠ¸ ë®¤ì§", audio: "media/26. ë©”ë¦¬ì—ê² ë­”ê°€ íŠ¹ë³„í•œ ê²ƒì´ ìˆë‹¤ (ëª¨ì°¨ë¥´íŠ¸ï¼šì•„ì´ë„¤ í´ë¼ì´ë„¤ ë‚˜ííŠ¸ë®¤ì§ ).mp3" },
      { movie: "ë®¤ì§ ëŸ¬ë²„", composer: "ì°¨ì´ì½”í”„ìŠ¤í‚¤", music: "í”¼ì•„ë…¸ í˜‘ì£¼ê³¡ 1ë²ˆ", audio: "media/27. ë®¤ì§ ëŸ¬ë²„ (ì°¨ì´ì½”í”„ìŠ¤í‚¤ï¼ší”¼ì•„ë…¸ í˜‘ì£¼ê³¡ 1ë²ˆ ).mp3" },
      { movie: "ë¶ˆë©¸ì˜ ì—°ì¸", composer: "ë² í† ë²¤", music: "í”¼ì•„ë…¸ ì†Œë‚˜íƒ€ ì›”ê´‘", audio: "media/28. ë¶ˆë©¸ì˜ ì—°ì¸ (ë² í† ë²¤ï¼ší”¼ì•„ë…¸ ì†Œë‚˜íƒ€ 14ë²ˆ 'ì›”ê´‘').mp3" },
      { movie: "ë¹Œë¦¬ì—˜ë¦¬ì–´íŠ¸", composer: "ì°¨ì´ì½”í”„ìŠ¤í‚¤", music: "ë°±ì¡°ì˜ í˜¸ìˆ˜", audio: "media/29. ë¹Œë¦¬ ì—˜ë¦¬ì–´íŠ¸ (ì°¨ì´ì½”í”„ìŠ¤í‚¤ï¼šë°±ì¡°ì˜ í˜¸ìˆ˜ - ì¥ë©´10 ë°±ì¡°ì˜ ì£¼ì œ).mp3" },
      { movie: "ìƒ¤ì¸", composer: "ë¼íë§ˆë‹ˆë…¸í”„", music: "í”¼ì•„ë…¸ í˜‘ì£¼ê³¡ 3ë²ˆ", audio: "media/30. ìƒ¤ì¸ (ë¼íë§ˆë‹ˆë…¸í”„ í”¼ì•„ë…¸ í˜‘ì£¼ê³¡ 3ë²ˆ).mp3" },
      { movie: "ìŠ¤íƒ€ì›Œì¦ˆ", composer: "ì¡´ìœŒë¦¬ì•”ìŠ¤", music: "ë©”ì¸ í…Œë§ˆ", audio: "media/31. ìŠ¤íƒ€ì›Œì¦ˆ (ì¡´ ìœŒë¦¬ì•”ìŠ¤ï¼šë©”ì¸ í…Œë§ˆ).mp3" },
      { movie: "íŠ¸ë£¨ë¨¼ ì‡¼", composer: "ëª¨ì°¨ë¥´íŠ¸", music: "í„°í‚¤ í–‰ì§„ê³¡", audio: "media/32. íŠ¸ë£¨ë¨¼ ì‡¼ (ëª¨ì°¨ë¥´íŠ¸ï¼ší„°í‚¤í–‰ì§„ê³¡).mp3" }
    ];

    document.addEventListener('DOMContentLoaded', function () {
      const audio = document.querySelector('audio');
      const playPauseBtn = document.querySelector('.play-pause');
      const progress = document.querySelector('.progress');
      const progressBar = document.querySelector('.progress-bar');
      const currentTime = document.querySelector('.current');
      const duration = document.querySelector('.duration');

      playPauseBtn.addEventListener('click', togglePlay);
      audio.addEventListener('timeupdate', updateProgress);
      audio.addEventListener('loadedmetadata', setDuration);
      progressBar.addEventListener('click', seek);

      function togglePlay() {
        if (audio.paused) {
          audio.play();
          playPauseBtn.classList.add('playing');
        } else {
          audio.pause();
          playPauseBtn.classList.remove('playing');
        }
      }

      function updateProgress() {
        const percent = (audio.currentTime / audio.duration) * 100;
        progress.style.width = `${percent}%`;
        currentTime.textContent = formatTime(audio.currentTime);
      }

      function setDuration() {
        duration.textContent = `/ ${formatTime(audio.duration)}`;
      }

      function seek(e) {
        const percent = e.offsetX / progressBar.offsetWidth;
        audio.currentTime = percent * audio.duration;
      }

      function formatTime(seconds) {
        const minutes = Math.floor(seconds / 60);
        seconds = Math.floor(seconds % 60);
        return `${minutes}:${seconds.toString().padStart(2, '0')}`;
      }
    });

    let currentQuestion = 0; // í˜„ì¬ ë¬¸ì œ ë²ˆí˜¸
    let correctAnswers = 0; // ì •ë‹µ íšŸìˆ˜
    const totalQuestions = quizData.length;

    let showAnswerAlways = false; // ì •ë‹µ ë³´ê¸° ìœ ì§€ ì—¬ë¶€

    let totalQuestionList = quizData.map(q => `${q.movie} - ${q.composer} - ${q.music}`);

    let questionStatus = new Array(quizData.length).fill(0); // 0: ë¯¸ë‹µë³€, 1: ì •ë‹µ, -1: ì˜¤ë‹µ

    for (let index = 0; index < quizData.length; index++) {
      totalQuestionList.push(`${quizData[index].movie} - ${quizData[index].composer} - ${quizData[index].music}\n`);
    }

    document.getElementById("underdiv").innerHTML = totalQuestionList.map(q => `<div>${q}</div>`).join('');

    document.getElementById("toggleUnderdiv").addEventListener("click", function () {
      const underdiv = document.getElementById("underdiv");
      if (underdiv.style.display === "none") {
        underdiv.style.display = "block";
      } else {
        underdiv.style.display = "none";
      }
    });
    // ì´ˆê¸°í™”
    document.getElementById("totalQuestions").innerText = totalQuestions;

    function shufflePlaylist() {
      // í˜„ì¬ ë°°ì—´ì„ ì„ëŠ” í•¨ìˆ˜
      for (let i = quizData.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [quizData[i], quizData[j]] = [quizData[j], quizData[i]];
      }

      // ëª¨ë“  ìƒíƒœ ì´ˆê¸°í™”
      currentQuestion = 0;
      correctAnswers = 0;
      questionStatus = new Array(quizData.length).fill(0); // ë¬¸ì œ ìƒíƒœ ë°°ì—´ ì´ˆê¸°í™”

      // ìƒˆë¡œìš´ ë¬¸ì œ ë¡œë“œ
      loadQuestion();
      updateUnderdiv(); // underdiv ì—…ë°ì´íŠ¸

      // ì˜¤ë””ì˜¤ ìë™ ì¬ìƒ
      const audioElement = document.getElementById("audio");
      audioElement.play();
    }

    // ë¬¸ì œ ë¡œë“œ í•¨ìˆ˜ ìˆ˜ì •
    function loadQuestion() {
      const audioSource = document.getElementById("audioSource");
      audioSource.src = quizData[currentQuestion].audio;
      const audioElement = document.getElementById("audio");
      audioElement.load();

      document.getElementById("result").innerText = "";
      document.getElementById("quizForm").reset();
      updateProgress();

      // ì •ë‹µ ë³´ê¸° ìƒíƒœì— ë”°ë¼ ì²˜ë¦¬
      if (showAnswerAlways) {
        revealAnswer(); // ì •ë‹µ í‘œì‹œ ìœ ì§€
      } else {
        hideAnswer(); // ì •ë‹µ ìˆ¨ê¸°ê¸°
      }
    }

    // ì •ë‹µ í™•ì¸
    function checkAnswer() {
      const movie = document.getElementById("movie").value.trim();
      const composer = document.getElementById("composer").value.trim();
      const music = document.getElementById("music").value.trim();
      const correctMovie = quizData[currentQuestion].movie;
      const correctComposer = quizData[currentQuestion].composer;
      const correctMusic = quizData[currentQuestion].music;

      if (movie === correctMovie && composer === correctComposer && music === correctMusic) {
        document.getElementById("result").innerText = "ì •ë‹µì…ë‹ˆë‹¤!";
        document.getElementById("result").className = "result correct";
        correctAnswers++;
        questionStatus[currentQuestion] = 1; // ì •ë‹µ í‘œì‹œ

        // ë„˜ì–´ê°€ê¸° ë²„íŠ¼ ìˆ¨ê¸°ê¸°
        document.getElementById("nextButton").style.display = "none";

        setTimeout(() => {
          goToNextQuestion();
          // ë‹¤ìŒ ë¬¸ì œë¡œ ë„˜ì–´ê°„ í›„ ë²„íŠ¼ ë‹¤ì‹œ ë³´ì´ê²Œ í•˜ê¸°
          document.getElementById("nextButton").style.display = "block";
        }, 3000);
      } else {
        document.getElementById("result").innerText = `ì •ë‹µì€ "${correctMovie}, ${correctComposer}, ${correctMusic}"ì…ë‹ˆë‹¤.`;
        document.getElementById("result").className = "result incorrect";
        questionStatus[currentQuestion] = -1; // ì˜¤ë‹µ í‘œì‹œ
      }
      updateUnderdiv(); // underdiv ì—…ë°ì´íŠ¸
    }

    // ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™ í•¨ìˆ˜ ìˆ˜ì •
    function goToNextQuestion() {
      if (questionStatus[currentQuestion] === 0) {
        questionStatus[currentQuestion] = -1;
      }
      updateUnderdiv();
      currentQuestion++;

      if (currentQuestion >= totalQuestions) {
        alert("í€´ì¦ˆ ì¢…ë£Œ!");
        currentQuestion = 0;
        correctAnswers = 0;
        questionStatus = new Array(quizData.length).fill(0);
      }

      loadQuestion();
      const audioElement = document.getElementById("audio");
      const playPauseBtn = document.querySelector('.play-pause');

      audioElement.play().then(() => {
        playPauseBtn.classList.add('playing'); // ì¬ìƒ ì‹œ playing í´ë˜ìŠ¤ ì¶”ê°€
      }).catch((error) => {
        console.log("ì¬ìƒ ì‹¤íŒ¨:", error);
      });
    }

    function updateUnderdiv() {
      const underdiv = document.getElementById("underdiv");
      let updatedContent = "";
      for (let i = 0; i < quizData.length; i++) {
        const question = quizData[i];
        const status = questionStatus[i];
        const color = status === 1 ? "green" : status === -1 ? "red" : status === 0 ? "gray" : "black";
        updatedContent += `<span style="color: ${color}">${question.movie} - ${question.composer} - ${question.music}</span><br>`;
      }
      underdiv.innerHTML = updatedContent;
    }

    // ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
    function updateProgress() {
      document.getElementById("currentQuestion").innerText = currentQuestion + 1;

      const accuracy =
        Math.round((correctAnswers / (currentQuestion || 1)) * 100);

      document.getElementById("accuracy").innerText = `${accuracy}%`;
    }

    // ì •ë‹µ ë³´ê¸° í† ê¸€ ë²„íŠ¼ ë™ì‘ ìˆ˜ì •
    function toggleAnswer() {
      showAnswerAlways = !showAnswerAlways; // ìƒíƒœ í† ê¸€

      if (showAnswerAlways) {
        revealAnswer(); // í˜„ì¬ ë¬¸ì œì˜ ì •ë‹µ í‘œì‹œ
      } else {
        hideAnswer(); // ì •ë‹µ ìˆ¨ê¸°ê¸°
      }
    }

    // ì •ë‹µ í‘œì‹œ í•¨ìˆ˜
    function revealAnswer() {
      const answerReveal = document.getElementById("answerReveal");
      const currentData = quizData[currentQuestion];

      answerReveal.innerHTML = `${currentData.movie} - ${currentData.composer} - ${currentData.music}`;
      answerReveal.style.display = "block";
    }

    // ì •ë‹µ ìˆ¨ê¸°ê¸° í•¨ìˆ˜
    function hideAnswer() {
      const answerReveal = document.getElementById("answerReveal");
      answerReveal.style.display = "none";
    }

    // ì²« ë²ˆì§¸ ë¬¸ì œ ë¡œë“œ
    window.onload = function () {
      updateUnderdiv();
      loadQuestion();
    }

  </script>
</body>

</html>